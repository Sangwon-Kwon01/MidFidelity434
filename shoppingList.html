<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping List</title>
    <link rel="stylesheet" href="shoppingList.css">
</head>

<body>
    <div class="container">
        <h1>Shopping List</h1>

        <div class="header">
            <select id="category-filter">
                <option value="all">All Categories</option>
                <option value="dairy">Dairy</option>
                <option value="frozen">Frozen</option>
                <option value="vegetables">Vegetables</option>
                <option value="fruits">Fruits</option>
                <option value="meats">Meats</option>
                <option value="snacks">Snacks</option>
            </select>

            <input type="text" id="new" placeholder="New Grocery Item...">
            <button id="add" class="add">ADD +</button>
        </div>

        <ul id="shopping-list"></ul>

        <!-- Navigation tabs -->
        <ul class="tabs">
            <li class="tab"><a href="inventory.html">Inventory</a></li>
            <li class="tab"><a href="shoppingList.html">Shopping List</a></li>
            <li class="tab active"><a href="recipe.html">Recipes</a></li>
            <li class="tab"><a href="profile.html">Profile</a></li>
        </ul>
    </div>

    <script>
        const categoryIcons = {
            dairy: 'dairyIcon.png',
            frozen: 'frozenIcon.png',
            vegetables: 'vegetablesIcon.png',
            fruits: 'fruitsIcon.png',
            meats: 'meatsIcon.png',
            snacks: 'snacksIcon.png'
        };

        document.getElementById('add').addEventListener('click', addItem);
        document.getElementById('category-filter').addEventListener('change', filterItems);

        function addItem() {
            let itemText = document.getElementById('new').value.trim();
            if (itemText === '') {
                return;
            }

            itemText = itemText.charAt(0).toUpperCase() + itemText.slice(1);

            let li = document.createElement('li');
            li.className = 'list-item';
            li.addEventListener('click', toggleCompleted);

            let icon = document.createElement('img');
            icon.className = 'category-icon';

            let span = document.createElement('span');
            span.textContent = itemText;

            let categoryDropdown = document.createElement('select');
            categoryDropdown.className = 'category';
            categoryDropdown.innerHTML = `
                <option value="uncategorized">Uncategorized</option>
                <option value="dairy">Dairy</option>
                <option value="frozen">Frozen</option>
                <option value="vegetables">Vegetables</option>
                <option value="fruits">Fruits</option>
                <option value="meats">Meats</option>
                <option value="snacks">Snacks</option>
            `;

            categoryDropdown.addEventListener('change', function() {
                let selectedCategory = categoryDropdown.value;
                if (selectedCategory !== 'uncategorized') {
                    icon.src = categoryIcons[selectedCategory];
                    icon.style.display = 'inline';
                } else {
                    icon.src = '';
                    icon.style.display = 'none';
                }
                filterItems();
            });

            let quantityInput = document.createElement('input');
            quantityInput.type = 'number';
            quantityInput.value = 1;
            quantityInput.className = 'quantity';
            quantityInput.min = 1;

            let deleteButton = document.createElement('button');
            deleteButton.textContent = 'X';
            deleteButton.className = 'delete-btn';
            deleteButton.onclick = function(e) {
                e.stopPropagation();
                li.remove();
            };

            li.appendChild(icon);
            li.appendChild(span);
            li.appendChild(categoryDropdown);
            li.appendChild(quantityInput);
            li.appendChild(deleteButton);

            document.getElementById('shopping-list').appendChild(li);
            document.getElementById('new').value = '';
        }

        function toggleCompleted(event) {
            event.target.classList.toggle('completed');
        }

        function filterItems() {
            let category = document.getElementById('category-filter').value;
            let items = document.querySelectorAll('#shopping-list li');

            items.forEach(function(item) {
                let itemCategory = item.querySelector('.category').value;
                if (category === 'all' || itemCategory === category) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }
    </script>
</body>

</html>

